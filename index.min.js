const HEADER_ATTR=`data-js-header-2b6a9c`;const SLIDES_ATTR=`data-js-slides-2b6a9c`;const COLLECTIONS_ATTR=`data-js-collentions-2b6a9c`;const DROPDOWN_ATTR=`data-js-dropdown-2b6a9c`;let GOLDEN_CONFIG;let sliderDirection='right';function createSlideElement(abrir_link,desktopImg,mobileImg){const link=document.createElement('a');const picture=document.createElement('picture');const source=document.createElement('source');const image=document.createElement('img');const elClass='golden-slides-slider-collection';link.classList.add(elClass);link.href=abrir_link;picture.classList.add(elClass);source.media='(max-width: 860px)';source.srcset=mobileImg;image.classList.add(elClass.concat('-image'));image.src=desktopImg;picture.appendChild(source);picture.appendChild(image);link.appendChild(picture);return link}function changeSlide(direction){try{const containSlides=document.querySelector(`[${ SLIDES_ATTR }=contain]`);sliderDirection=direction;if(!containSlides){throw new Error('slides container not found')}containSlides.style.transition='transform 0.3s';if(direction==='right'){containSlides.style.transform='translateX(-200vw)'}if(direction==='left'){containSlides.style.transform='translateX(0)'}}catch(error){console.error('CHANGE_SLIDE::',error.message||'Untracked error')}}function transitionEnd(event){const slider=event.target;if(!slider.firstChild||!slider.lastChild){return}slider.style.transition='none';slider.style.transform='translateX(-100vw)';if(sliderDirection==='right'){slider.append(slider.firstChild)}else{slider.prepend(slider.lastChild)}}function changeCircleActivated(direction){try{const circles=document.querySelectorAll(`[${ SLIDES_ATTR }] [data-js-display] span`);if(!circles){throw new Error('circles not found')}const dir=direction==='right'?1:-1;let selectedCirclePos=0;circles.forEach((circle,index)=>{if(circle.dataset.activated==='true'){const pos=index+dir;if(pos>=circles.length){selectedCirclePos=0}else if(pos<0){selectedCirclePos=circles.length-1}else{selectedCirclePos=pos}circle.dataset.activated=''}});if(selectedCirclePos>=0){circles[selectedCirclePos].dataset.activated='true'}}catch(error){console.error('CHANGE_CIRCLE::',error.message||'Untracked error')}}function loadSlideButtonsAction(){try{const previousButton=document.querySelector(`[${ SLIDES_ATTR }] [data-js-action=previous]`);const nextButton=document.querySelector(`[${ SLIDES_ATTR }] [data-js-action=next]`);if(!previousButton||!nextButton){throw new Error('prev or next button not found')}previousButton.addEventListener('click',()=>{changeCircleActivated('left');changeSlide('left')});nextButton.addEventListener('click',()=>{changeCircleActivated('right');changeSlide('right')})}catch(error){console.error('SLIDE_BUTTONS_ACTION::',error.message||'Untracked error')}}function createCircleElement(active){const span=document.createElement('span');span.classList.add('golden-slides-display-bubble');span.setAttribute('data-activated',active?'true':'');return span}function loadSlides(){try{const slidesElement=document.querySelector(`[${ SLIDES_ATTR }]`);const containSlides=document.querySelector(`[${ SLIDES_ATTR }=contain]`);const display=document.querySelector(`[${ SLIDES_ATTR }] [data-js-display]`);if(!slidesElement){throw new Error('slides element not found')}if(!containSlides){throw new Error('slides container not found')}if(!display){throw new Error('display container not found')}if(!GOLDEN_CONFIG.BANNERS_PRINCIPAIS||!Array.isArray(GOLDEN_CONFIG.BANNERS_PRINCIPAIS)||!GOLDEN_CONFIG.BANNERS_PRINCIPAIS.length){throw new Error('Undefined BANNERS_PRINCIPAIS')}const{BANNERS_PRINCIPAIS}=GOLDEN_CONFIG;const slidesFragment=document.createDocumentFragment();const displayFragment=document.createDocumentFragment();let countRealElement=0;let repeat=0;if(BANNERS_PRINCIPAIS.length===1){repeat=3}else if(BANNERS_PRINCIPAIS.length===2){repeat=2}else{repeat=1}for(let currentRound=0;currentRound<repeat;currentRound+=1){BANNERS_PRINCIPAIS.forEach(({abrir_link,img_desktop,img_mobile},index)=>{if(!abrir_link||!img_desktop||!img_mobile){return console.error('some slide error ::',index)}slidesFragment.appendChild(createSlideElement(abrir_link,img_desktop,img_mobile));countRealElement+=1})}for(let i=0;i<countRealElement;i+=1){displayFragment.appendChild(createCircleElement(i==0))}containSlides.addEventListener('transitionend',transitionEnd);containSlides.appendChild(slidesFragment);display.appendChild(displayFragment);loadSlideButtonsAction();slidesElement.style.display='block'}catch(error){console.error('LOAD_SLIDES::',error.message||'Untracked error')}}function loadCollections(){try{const collectionsElement=document.querySelector(`[${ COLLECTIONS_ATTR }]`);if(!collectionsElement){throw new Error('collections element not found')}if(!GOLDEN_CONFIG.BANNERS_SECUNDARIOS){throw new Error('Undefined BANNERS_SECUNDARIOS')}const{BANNERS_SECUNDARIOS}=GOLDEN_CONFIG;if(!BANNERS_SECUNDARIOS.PRIMEIRO||!BANNERS_SECUNDARIOS.SEGUNDO||!BANNERS_SECUNDARIOS.TERCEIRO||!BANNERS_SECUNDARIOS.QUARTO||!BANNERS_SECUNDARIOS.QUINTO){throw new Error('[pri., seg., ter., qua., qui.] not defined')}const{PRIMEIRO,SEGUNDO,TERCEIRO,QUARTO,QUINTO}=BANNERS_SECUNDARIOS;if(!PRIMEIRO.abrir_link||!PRIMEIRO.img||!SEGUNDO.abrir_link||!SEGUNDO.img||!TERCEIRO.abrir_link||!TERCEIRO.img||!QUARTO.abrir_link||!QUARTO.img||!QUINTO.abrir_link||!QUINTO.img){throw new Error('some [abrir_link, img] not defined')}const collectionsLinks=collectionsElement.querySelectorAll('a');if(!collectionsLinks){throw new Error('collections element not found')}if(collectionsLinks.length!==5){throw new Error('some collection link not found')}const img_1=collectionsLinks[0].querySelector('img');const img_2=collectionsLinks[1].querySelector('img');const img_3=collectionsLinks[2].querySelector('img');const img_4=collectionsLinks[3].querySelector('img');const img_5=collectionsLinks[4].querySelector('img');if(!img_1||!img_2||!img_3||!img_4||!img_5){throw new Error('some image element not found')}collectionsLinks[0].setAttribute('href',PRIMEIRO.abrir_link);img_1.setAttribute('src',PRIMEIRO.img);collectionsLinks[1].setAttribute('href',SEGUNDO.abrir_link);img_2.setAttribute('src',SEGUNDO.img);collectionsLinks[2].setAttribute('href',TERCEIRO.abrir_link);img_3.setAttribute('src',TERCEIRO.img);collectionsLinks[3].setAttribute('href',QUARTO.abrir_link);img_4.setAttribute('src',QUARTO.img);collectionsLinks[4].setAttribute('href',QUINTO.abrir_link);img_5.setAttribute('src',QUINTO.img);collectionsElement.style.display='flex'}catch(error){console.error('LOAD_COLLECTIONS::',error.message||'Untracked error')}}function toggleMenuVisibility(){try{const dropdownMenu=document.querySelector(`[${ DROPDOWN_ATTR }]`);if(!dropdownMenu){throw new Error('Dropdown menu not found')}dropdownMenu.classList.toggle('hidden-categories')}catch(error){console.error('TOGGLE_MENU_VISIBILITY::',error.message||'Untracked error')}}function configHeader(){try{const header=document.querySelector(`[${ HEADER_ATTR }]`);const logo=header.querySelector('[data-html-brand]');const img=logo?.querySelector('img');const search=header.querySelector('[data-html-search]');const cart=header.querySelector('[data-html-cart]');const toggleMenuButton=header.querySelector('[data-html-toggle-menu]');if(!GOLDEN_CONFIG.DOMINIO){throw new Error('Dominio undefined')}logo.href=GOLDEN_CONFIG.DOMINIO;search.action=GOLDEN_CONFIG.DOMINIO;if(cart){cart.href=GOLDEN_CONFIG.DOMINIO.concat(GOLDEN_CONFIG.DOMINIO[GOLDEN_CONFIG.DOMINIO.length-1]=='/'?'sacola':'/sacola')}else{console.warn('Cart not found')}if(!GOLDEN_CONFIG.IMG_LOGO||!img){throw new Error('Logo undefined')}img.src=GOLDEN_CONFIG.IMG_LOGO;toggleMenuButton.addEventListener('click',toggleMenuVisibility)}catch(error){console.error('CONFIG_HEADER::',error.message||'Untracked error')}}function generateDropdownElement(category){const baseClass='golden-menu-dropdown';const dropdown=document.createElement('div');const button=document.createElement('button');const optionsContain=document.createElement('div');const headerContain=document.createElement('div');const linksContain=document.createElement('div');linksContain.classList.add(baseClass.concat('-options-options'));headerContain.classList.add(baseClass.concat('-options-header'));headerContain.innerText=category.categoria||'udefined_cat';optionsContain.classList.add(baseClass.concat('-options'));button.classList.add(baseClass.concat('-button'));button.innerText=category.categoria||'udefined_cat';dropdown.classList.add(baseClass);dropdown.appendChild(button);dropdown.appendChild(optionsContain);optionsContain.appendChild(headerContain);optionsContain.appendChild(linksContain);category.opcoes.forEach(({abrir_link,text})=>{const link=document.createElement('a');link.href=abrir_link;link.innerText=text;link.classList.add(baseClass.concat('-options-options-link'));linksContain.appendChild(link)});return dropdown}function loadCategories(){try{const dropdownContain=document.querySelector(`[${ DROPDOWN_ATTR }]`);if(!GOLDEN_CONFIG.MENU_DROPDOWN_CATEGORIAS||GOLDEN_CONFIG.MENU_DROPDOWN_CATEGORIAS.length<=0){throw new Error('category no defined')}const fragment=document.createDocumentFragment();GOLDEN_CONFIG.MENU_DROPDOWN_CATEGORIAS.forEach((category)=>{fragment.append(generateDropdownElement(category))});dropdownContain.appendChild(fragment)}catch(error){console.error('LOAD_CATEGORIES::',error.message||'Untracked error')}}function InitCustomization(){try{const data=document.querySelector('[data-golden-json-2b6a9c]').innerText||undefined;const dataParse=JSON.parse(data);if(!dataParse){throw new Error('Error on parse data')}GOLDEN_CONFIG=dataParse;if(!GOLDEN_CONFIG){throw new Error('Error use parse data')}configHeader();loadCategories()}catch(error){console.error('INIT_CUSTOMIZATION::',error.message||'Untracked error')}}function IsValidaPageToLoadBanner(){const validPaths=['goldendesign'];try{const paths=window.location.pathname.split('/');const lastPath=paths[paths.length-1].replace(/[^a-zA-Z0-9]/g,'');let response=false;if(typeof lastPath!=='string'){return response}if(lastPath===''||validPaths.includes(lastPath)){response=true}return response}catch(error){console.error('IS_VALID_PAGE::',error.message||'Untracked error')}}function moveNewSectionToContentHolder(){try{const oldHeader=document.querySelector('header.main-header');if(!oldHeader){console.warn('Old header not found')}const newSection=document.getElementById('data-golden-html-2b6a9c');if(!newSection){throw new Error('New section not found')}const newHeader=document.querySelector('#data-golden-html-2b6a9c .golden-header');if(!newHeader){throw new Error('New header not found')}const holder=document.querySelector('.content-holder .content');if(!holder){throw new Error('Holder not found')}oldHeader&&newHeader.after(oldHeader);holder.prepend(newSection)}catch(error){console.error('MOVE_NEW_SECTION::',error.message||'Untracked error')}}InitCustomization();window.addEventListener('load',()=>{try{moveNewSectionToContentHolder();if(IsValidaPageToLoadBanner()){loadSlides();loadCollections()}}catch(error){console.error('ONLOAD_CUSTOMIZATION::',error.message||'Untracked error')}});
